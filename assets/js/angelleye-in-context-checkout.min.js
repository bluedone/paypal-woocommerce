jQuery(function(r){if("undefined"==typeof angelleye_in_content_param)return!1;function a(){var e=angelleye_in_content_param.disallowed_funding_methods;return null===e&&(e=[]),!(-1<r.inArray("card",e))}function n(){window.paypalCheckoutReady=function(){var n,e=[],t=[];"yes"==angelleye_in_content_param.is_checkout&&"yes"==angelleye_in_content_param.is_display_on_checkout&&e.push(".angelleye_smart_button_checkout_top"),"yes"==angelleye_in_content_param.is_cart&&("both"==angelleye_in_content_param.cart_button_possition?e.push(".angelleye_smart_button_top",".angelleye_smart_button_bottom"):"bottom"==angelleye_in_content_param.cart_button_possition?e.push(".angelleye_smart_button_bottom"):"top"==angelleye_in_content_param.cart_button_possition&&e.push(".angelleye_smart_button_top")),e.push(".angelleye_smart_button_mini"),t=r.parseJSON(angelleye_in_content_param.disallowed_funding_methods),n=r.parseJSON(angelleye_in_content_param.allowed_funding_methods),"no"==angelleye_in_content_param.is_paypal_credit_enable&&t.push("credit"),angelleye_cart_style_object={size:angelleye_in_content_param.button_size,color:angelleye_in_content_param.button_color,shape:angelleye_in_content_param.button_shape,label:angelleye_in_content_param.button_label,layout:angelleye_in_content_param.button_layout,tagline:"true"===angelleye_in_content_param.button_tagline},e.forEach(function(e){if(r(e).html(""),t=r.grep(t,function(e){return"venmo"!==e}),0<e.length&&0<r(e).length&&(".angelleye_smart_button_mini"==e&&(angelleye_cart_style_object.size="responsive"),"horizontal"===angelleye_in_content_param.button_layout&&!0===a()&&"credit"!==angelleye_in_content_param.button_label&&"true"===angelleye_in_content_param.button_fundingicons&&(angelleye_cart_style_object.fundingicons="true"===angelleye_in_content_param.button_fundingicons),paypal.Button.render({env:angelleye_in_content_param.environment,style:angelleye_cart_style_object,locale:angelleye_in_content_param.locale,commit:"false"!==angelleye_in_content_param.zcommit,funding:{allowed:n,disallowed:t},payment:function(){r(".woocommerce").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});return paypal.request.post(angelleye_in_content_param.set_express_checkout,{request_from:"JSv4"}).then(function(e){return e.token})},onAuthorize:function(n,t){var e={paymentToken:n.paymentToken,payerID:n.payerID,token:n.paymentToken,request_from:"JSv4"};paypal.request.post(n.returnUrl,e).then(function(e){n.returnUrl=e.url,t.redirect()})},onCancel:function(e,n){return r(".woocommerce").unblock(),n.redirect()},onClick:function(){"yes"===angelleye_in_content_param.enable_google_analytics_click&&"undefined"!=typeof ga&&r.isFunction(ga)&&ga("send",{hitType:"event",eventCategory:"Checkout",eventAction:"paypal_button_click"})},onError:function(e,n){r(".woocommerce").unblock(),window.location.href=angelleye_in_content_param.cancel_page}},e)),"angelleye_smart_button_checkout_top"===e)return!1})}}n(),0<r(".angelleye_button_single").length&&(window.paypalCheckoutReady=function(){allowed_funding_methods_single_array=r.parseJSON(angelleye_in_content_param.allowed_funding_methods),disallowed_funding_methods_single_array=r.parseJSON(angelleye_in_content_param.disallowed_funding_methods),"no"==angelleye_in_content_param.is_paypal_credit_enable&&disallowed_funding_methods_single_array.push("credit"),angelleye_cart_style_object={size:angelleye_in_content_param.button_size,color:angelleye_in_content_param.button_color,shape:angelleye_in_content_param.button_shape,label:angelleye_in_content_param.button_label,layout:angelleye_in_content_param.button_layout,tagline:"true"===angelleye_in_content_param.button_tagline},"horizontal"===angelleye_in_content_param.button_layout&&!0===a()&&"credit"!==angelleye_in_content_param.button_label&&"true"===angelleye_in_content_param.button_fundingicons&&(angelleye_cart_style_object.fundingicons="true"===angelleye_in_content_param.button_fundingicons),paypal.Button.render({env:angelleye_in_content_param.environment,style:angelleye_cart_style_object,locale:angelleye_in_content_param.locale,commit:"false"!==angelleye_in_content_param.zcommit,funding:{allowed:allowed_funding_methods_single_array,disallowed:disallowed_funding_methods_single_array},payment:function(e,n){r(".cart").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var t,a,o,_,l={nonce:angelleye_in_content_param.generate_cart_nonce,qty:r(".quantity .qty").val(),attributes:r(".variations_form").length?JSON.stringify((t=r(".variations_form").find(".variations select"),a={},o=0,_=0,t.each(function(){var e=r(this).data("attribute_name")||r(this).attr("name"),n=r(this).val()||"";0<n.length&&_++,o++,a[e]=n}),{count:o,chosenCount:_,data:a}).data):[],"wc-paypal_express-new-payment-method":r("#wc-paypal_express-new-payment-method").is(":checked"),is_cc:"",product_id:r("input[name=add-to-cart]").val(),variation_id:r("input[name=variation_id]").val(),request_from:"JSv4",express_checkout:"true"};return paypal.request.post(angelleye_in_content_param.add_to_cart_ajaxurl,l).then(function(e){return paypal.request.post(e.url,{request_from:"JSv4"}).then(function(e){return e.token})})},onAuthorize:function(n,t){var e={paymentToken:n.paymentToken,payerID:n.payerID,token:n.paymentToken,request_from:"JSv4"};paypal.request.post(n.returnUrl,e).then(function(e){n.returnUrl=e.url,t.redirect()})},onCancel:function(e,n){return r(".cart").unblock(),n.redirect()},onClick:function(){"yes"===angelleye_in_content_param.enable_google_analytics_click&&"undefined"!=typeof ga&&r.isFunction(ga)&&ga("send",{hitType:"event",eventCategory:"Checkout",eventAction:"button_click"})},onError:function(e,n){r(".cart").unblock(),r(".angelleye_button_single").length&&(window.location.href=angelleye_in_content_param.cancel_page)}},".angelleye_button_single")}),r(document.body).on("updated_shipping_method wc_fragments_refreshed",function(e){n()})});